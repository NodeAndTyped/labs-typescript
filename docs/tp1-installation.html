<!DOCTYPE html>
<html lang="en">
<head>

    <title>Labs TypeScript</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Merriweather:400,300,700" rel="stylesheet" type="text/css">

    <link type="text/css" rel="stylesheet" href="assets/styles/materialize.min.css" media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="assets/styles/github-markdown.css" />
    <link type="text/css" rel="stylesheet" href="assets/styles/github.css" />
    <link type="text/css" rel="stylesheet" href="assets/styles/glyph.css" />
    <link type="text/css" rel="stylesheet" href="assets/styles/main.css" />

</head>
<body>


<header class="navbar-fixed">

    <nav class="navbar">
        <div class="nav-wrapper">
            <a href="http://valtech.fr" class="brand-logo hide-on-med-and-down">
                <i class="valtech-logo--header glyph" data-icon="valtech-logo" aria-hidden="true"></i>
            </a>

            <a class="brand-logo center">
                Labs TypeScript
            </a>

            <a href="#" data-activates="global-menu-mobile" class="button-collapse"><i class="material-icons">menu</i></a>

            <ul class="right">
                <li>
                    <a href="https://github.com/NodeAndTyped/labs-typescript/" title="See on github">
                        <i class="material-icons">visibility</i>
                    </a>
                </li>

                <li class="hide-on-med-and-down">
                    <a href="#!" class="dropdown-button" title="download" data-activates="global-menu-download" data-beloworigin="true">
                        <i class="material-icons">file_download</i>
                    </a>
                </li>

                <li class="hide-on-med-and-down">
                    <a class="dropdown-button" href="#!" data-activates="global-menu" data-beloworigin="true">
                        <i class="material-icons">menu</i>
                    </a>
                </li>
            </ul>


        </div>
    </nav>

</header>

<ul class="side-nav" id="global-menu-mobile">

    <li class="logo">

        <i class="valtech-logo--header glyph" data-icon="valtech-logo" aria-hidden="true"></i>

    </li>

    
            <li><a href="index.html">Accueil</a></li>
        
            <li><a href="tp1-installation.html">TP1 - Installation</a></li>
        
            <li><a href="tp2-composant.html">TP2 - Création d&#39;un composant</a></li>
        
            <li><a href="tp3-service.html">TP3 - Création d&#39;un service et appel d&#39;un webservice</a></li>
        
            <li><a href="tp4-decorator.html">TP4 - Création d&#39;un décorateur</a></li>
        
            <li><a href="tp5-composant-recherche.html">TP5 - Rechercher une annonce</a></li>
        
            <li><a href="tp6-consultation.html">TP6 - Consultation d&#39;une annonce</a></li>
        

    <li><div class="divider"></div></li>

    <li class="no-padding">
        <ul class="collapsible collapsible-accordion">
            <li>
                <a class="collapsible-header">Télécharger<i class="material-icons">arrow_drop_down</i></a>
                <div class="collapsible-body">
                    <ul>

                        <li>
                            <a href="https://github.com/NodeAndTyped/labs-typescript/zipball/master">
                                Documentation (master)
                            </a>
                        </li>

                        
                                <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp1-installation.zip">tp1-installation</a></li>
                            
                                <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp2-solution.zip">tp2-solution</a></li>
                            
                                <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp3-solution.zip">tp3-solution</a></li>
                            
                                <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp4-solution.zip">tp4-solution</a></li>
                            
                                <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp5-solution.zip">tp5-solution</a></li>
                            
                                <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp6-solution.zip">tp6-solution</a></li>
                            
                    </ul>
                </div>
            </li>
        </ul>
    </li>

</ul>

<ul id="global-menu" class="dropdown-menu dropdown-content">
    
            <li><a href="index.html">Accueil</a></li>
        
            <li><a href="tp1-installation.html">TP1 - Installation</a></li>
        
            <li><a href="tp2-composant.html">TP2 - Création d&#39;un composant</a></li>
        
            <li><a href="tp3-service.html">TP3 - Création d&#39;un service et appel d&#39;un webservice</a></li>
        
            <li><a href="tp4-decorator.html">TP4 - Création d&#39;un décorateur</a></li>
        
            <li><a href="tp5-composant-recherche.html">TP5 - Rechercher une annonce</a></li>
        
            <li><a href="tp6-consultation.html">TP6 - Consultation d&#39;une annonce</a></li>
        
</ul>


<ul id="global-menu-download" class="dropdown-menu dropdown-content">
    <li>
        <a href="https://github.com/NodeAndTyped/labs-typescript/zipball/master">
            Télécharger la documentation (master)
        </a>
    </li>

    <li class="divider"></li>

    
            <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp1-installation.zip">Télécharger tp1-installation</a></li>
        
            <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp2-solution.zip">Télécharger tp2-solution</a></li>
        
            <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp3-solution.zip">Télécharger tp3-solution</a></li>
        
            <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp4-solution.zip">Télécharger tp4-solution</a></li>
        
            <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp5-solution.zip">Télécharger tp5-solution</a></li>
        
            <li><a href="https://github.com/NodeAndTyped/labs-typescript/archive/tp6-solution.zip">Télécharger tp6-solution</a></li>
        

</ul>

<div class="container container-body">
    <article class="markdown-body">
        <h1>TP 1</h1>
<blockquote>
<p>Installation de l'environnement</p>
</blockquote>
<h2>Prérequis</h2>
<p>Vérifier que vous avez les éléments suivants d’installé sur votre poste :</p>
<ul>
<li>Node v6 ou plus avec la commande npm –v,</li>
<li>Git, nous l’utiliserons pour récupérer le projet initial,</li>
<li>Webstorm (ou un autre IDE)</li>
</ul>
<h2>Installation</h2>
<h3>Initialisation du projet</h3>
<p>Créez un nouveau projet dans votre IDE. Puis dans le terminal, placez-vous sur votre nouveau projet et lancez la commande suivante :</p>
<pre><code class="bash">npm init
</code></pre>
<blockquote>
<p>Suivez le guide d'initialisation de la commande. Elle va créer le fichier <code>package.json</code> avec les informations du projet.</p>
</blockquote>
<h3>Installation des modules</h3>
<p>Maintenant nous allons installer les modules nécessaires à un projet TypeScript.</p>
<p>Toujours dans le terminal lancez la commande suivante :</p>
<pre><code>npm install -g typescript@2.0 
npm install --save @types/jquery materialize-css
npm install --save-dev connect-history-api-fallback http-proxy-middleware lite-server
tsc --init
</code></pre>
<blockquote>
<p>Nous travaillerons de préférence avec la version 2.0 de TypeScript</p>
</blockquote>
<p>La commande <code>tsc --init</code> va créer un nouveau fichier <code>tsconfig.json</code>. Ce fichier contient les informations nécessaire
au compilateur TypeScript pour compiler nos fichiers sources.</p>
<p>En l'état, il nous manque quelques options de compilation dans le <code>tsconfig.json</code>.</p>
<p>Voici les options à reporter dans votre <code>tsconfig.json</code>: </p>
<pre><code class="json">{
  "compilerOptions": {
    "module": "commonjs",
    "target": "es6",
    "noImplicitAny": false,
    "lib": [
      "es6",
      "dom",
      "es2015.collection"
    ],
    "types": [
      "jquery"
    ],
    "experimentalDecorators":true,
    "emitDecoratorMetadata": true,
    "sourceMap": true,
    "declaration": false
  },
  "exclude": ["node_modules"]
}
</code></pre>
<blockquote>
<p>Votre projet est prêt pour compiler du TypeScript</p>
</blockquote>
<h3>Création du serveur de développement</h3>
<p>Nous allons maintenant mettre en place le serveur de développement.</p>
<p>A la racine de projet, créer le fichier bs-config.js et collez le script suivant :</p>
<pre><code class="javascript">var proxyMiddleware = require('http-proxy-middleware');
var fallbackMiddleware = require('connect-history-api-fallback');

module.exports = {
    "port": 8000,
    "files": [
        "./webapp/**/*.{html,htm,css,js}",
        "./node_modules/**/*.{html,htm,css,js}"
    ],
    "server": {
        "baseDir": "webapp",
        "routes": {
            "/node_modules": "node_modules"
        },

        middleware: {
            1: proxyMiddleware('/api', {
                target: 'http://futurlogement5.azurewebsites.net',
                changeOrigin: true   // for vhosted sites, changes host header to match to target's host
            }),

            2: fallbackMiddleware({
                index: '/index.html',
                verbose: true
            })
        }
    }
};
</code></pre>
<p>Ensuite il vous faut éditer le <code>package.json</code> et ajouter ceci :</p>
<pre><code>{
  "scripts": {
     "serve": "lite-server"
  }
}
</code></pre>
<blockquote>
<p><code>scripts</code> permet d'ajouter de nouvelle commande NPM qui peuvent être appelées en ligne de commande avec <code>npm run [nom cmd]</code>.</p>
</blockquote>
<p>Notre serveur de développement est prêt. Il nous reste plus qu'à créer un dossier <code>webapp</code> avec une première page <code>index.html</code>.</p>
<h3>Création de l'application web</h3>
<p>Voici à quoi la page d'index doit ressembler :</p>
<pre><code class="html">&#x3C;!DOCTYPE html>
&#x3C;html lang="en">
&#x3C;head>
    &#x3C;title>TP&#x3C;/title>
    &#x3C;!--Import Google Icon Font-->
    &#x3C;link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    &#x3C;!--Import materialize.css-->
    &#x3C;link type="text/css" rel="stylesheet" href="node_modules/materialize-css/bin/materialize.css"  media="screen,projection"/>

    &#x3C;!--Let browser know website is optimized for mobile-->
    &#x3C;meta name="viewport" content="width=device-width, initial-scale=1.0"/>
&#x3C;/head>
&#x3C;body>

    &#x3C;app>

    &#x3C;/app>

    &#x3C;!-- vendor -->
    &#x3C;script type="text/javascript" src="node_modules/materialize-css/bin/jquery-2.1.1.min.js">&#x3C;/script>
    &#x3C;script type="text/javascript" src="node_modules/materialize-css/bin/materialize.js">&#x3C;/script>
    &#x3C;!-- end vendor -->

    &#x3C;script type="text/javascript" src="scripts/app.js">&#x3C;/script>
&#x3C;/body>
&#x3C;/html>
</code></pre>
<p>Ici il nous manque le script <code>app.js</code>. Notez que dans la page d'index nous incluerons toujours le fichier javascript généré par TypeScript et non
le fichier <code>app.ts</code>. </p>
<p>Dans le dossier <code>scripts</code>, créer un nouveau fichier <code>app.ts</code>.</p>
<p>L'exercice sera d'intercepter la balise <code>app</code> et d'y afficher un <code>HELLO WORLD</code> avec jQuery.</p>
<blockquote>
<p>Note : pour lancer votre server <code>npm run serve</code>.</p>
<p>Note 2 : pour compiler votre fichier TypeScript <code>tsc</code>.</p>
<p>Correction du TP : <a href="resources/tp1-installation.zip">tp1-installation</a></p>
</blockquote>
<p><a href="tp2-composant.html">Suivant</a></p>

    </article>
</div>

<footer class="page-footer">

    <div class="container">

        <div class="row">
            <div class="col l12 s12">
                <p><a href="mailto:info@valtech.fr">info@valtech.fr</a></p>
                <p>Vous avez une vision concernant l'avenir digital de votre entreprise ? N'hésitez pas à nous contacter.</p>
                <p>Tél : 01 76 21 15 00</p>
                <p class="foot__offices">
                    <span>Aarhus | Amserfoort | Amsterdam | Bangalore | Bristol | Buenos Aires | Chicago | Copenhagen | Dallas | Düsseldorf | Eindhoven | Frankfurt | Geneva | Gurgaon | Göteborg | Honolulu | London | Malmö | Manchester | Montreal | Munich | New York | Paris | Singapore | Stockholm | Sydney | Uppsala | Utrecht | Västerås</span>
                </p>
            </div>
        </div>

        <div class="footer-social">
            <ul>
                <li><a href="https://www.facebook.com/valtech.fr"><i class="glyph" data-icon="facebook" title="Suivez-nous à facebook" aria-hidden="true"></i><span class="hidden">facebook</span></a></li>
                <li><a href="https://www.linkedin.com/company/valtech"><i class="glyph" data-icon="linkedin" title="Suivez-nous à linkedin" aria-hidden="true"></i><span class="hidden">linkedin</span></a></li>
                <li><a href="https://www.instagram.com/valtech_fr/"><i class="glyph" data-icon="instagram" title="Suivez-nous à instagram" aria-hidden="true"></i><span class="hidden">instagram</span></a></li>
                <li><a href="https://twitter.com/Valtech_FR"><i class="glyph" data-icon="twitter" title="Suivez-nous à twitter" aria-hidden="true"></i><span class="hidden">twitter</span></a></li>
            </ul>
        </div>



    </div>

    <div class="footer-copyright">
        <div class="container">

            © Valtech 2016

            <a  class="grey-text text-lighten-4 right"  href="http://valtech.fr/services/mentions-legales-cgu/">
                Mentions légales / CGU
            </a>

            </ul>
        </div>
    </div>

</footer>

<script type="text/javascript" src="assets/scripts/jquery.min.js"></script>
<script type="text/javascript" src="assets/scripts/materialize.min.js"></script>
<script type="text/javascript" src="assets/scripts/highlight.pack.js"></script>

<script>
    $( document ).ready(function(){
        $(".button-collapse").sideNav();
        $(".dropdown-button").dropdown();
    });
</script>


<script>
    hljs.initHighlightingOnLoad();
</script>

</body>
</html>